Welcome to Squealy! Squealy automatically builds readony REST APIs from a SQL Query. 

## Pre-Requisites
You must have docker and docker-compose installed. To verify, open a terminal and type the following commands 

```bash
docker -v
docker-compose -v
```

## Hello World

Run `docker-compose up` in this directory. Wait a few minutes till you see the following message 

 ```* Running on http://0.0.0.0:5000/```

Then, open [http://localhost:5000/docs](http://localhost:5000/docs). You should see several APIs listed in the Swagger documentation. These APIs were generated by Squealy. 

## Project Layout

1. `docker-compose.yml` is meant for local development. It starts squealy in development mode. You can make changes to your query/yaml file and the API will automatically reload.
1. `Dockerfile` creates a production image along with your queries. You can build this image by running the command `docker build . -t <you-project-name>:<your-project-version>`
1. `src` folder contains the yaml files necessary for Squealy to build the APIs
1. `src/config.yml` contains configuration for Squealy. This file is mandatory. 
1. `src/datasources.yml` contains database related settings. This file is mandatory.
1. `src/resources.yml` contains the Resource definitions. Each Resource becomes a REST API

You can create any number of YAML files inside the `src` directory - the name does not matter. You could create 1 file per API, or 1 file for related set of APIs, or even all the APIs in 1 single file. Choose the convention that works for your project.


## Deploying to Production

First, you need to build a Docker image that includes your configuration files. The provided `Dockerfile` will bundle everything in the `src` folder and build a production quality image.

To enable TLS / HTTPS, uncomment a line in the Dockerfile and edit the path to the certificate and private key. Do not embed certificate and private key in the container; instead volume mount the file.

IF you are using Oracle, you will have to download the driver and then uncomment a line in the Dockerfile to bundle it in your image. See drivers/README.md for more information.

