kind: datasource
id: postgresdb
url: "postgresql://postgres:secret@localhost"

---

kind: datasource
id: mysqldb
url: "mysql://adventureworks:adventureworks%40123@127.0.0.1:3306/adventureworks"

---
kind: datasource
id: sqlitedb
url: "sqlite:///salesdb:memory"

---
kind: datasource
id: mssqldb
url: "mssql+pymssql://sa:secret%211234@localhost:1433"
    
---
kind: chart
id: monthly-sales-by-region
datasource: mssqldb
query: |
    SELECT month, region, sales from (
        SELECT 'jan' as month, 'north' as region, 1528 as sales UNION ALL
        SELECT 'feb' as month, 'north' as region, 1648 as sales UNION ALL
        SELECT 'mar' as month, 'north' as region, 1707 as sales UNION ALL
        SELECT 'jan' as month, 'south' as region, 1809 as sales UNION ALL
        SELECT 'feb' as month, 'south' as region, 1900 as sales UNION ALL
        SELECT 'mar' as month, 'south' as region, 1300 as sales UNION ALL
        SELECT 'jan' as month, 'west' as region, 1200 as sales UNION ALL
        SELECT 'feb' as month, 'west' as region, 1000 as sales UNION ALL
        SELECT 'mar' as month, 'west' as region, 2000 as sales UNION ALL
        SELECT 'jan' as month, 'east' as region, 2100 as sales UNION ALL
        SELECT 'feb' as month, 'east' as region, 1600 as sales UNION ALL
        SELECT 'mar' as month, 'east' as region, 1500 as sales
    ) s {% if params.region %} where s.region = {{params.region}} {% endif %}
